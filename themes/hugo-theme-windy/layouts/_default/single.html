{{ define "main" }}

<div class="bg-width shadow-bg">
  <div class="bg-cover bg-center h-[25rem] w-full relative" 
  style="background-image: url(
    {{- if .Params.cover_image -}}
      '{{- .Params.cover_image -}}'
    {{- else -}}
      '{{- .Params.defaultCover -}}'
    {{- end -}});">
      <a href="{{.Site.BaseURL}}" class="inline-block m-4">
        <svg xmlns="http://www.w3.org/2000/svg" width="80" height="auto" viewBox="0 0 47.816 30.013">
          <g id="组_8" data-name="组 8" transform="translate(-97.689 -2.313)">
              <path id="cd" d="M5.949,25.57a43.266,43.266,0,0,1-9.582-1.113,44.588,44.588,0,0,1-10.588-3.775,1.5,1.5,0,0,1-.6-2.036,1.5,1.5,0,0,1,2.034-.6h0a42.478,42.478,0,0,0,9.9,3.5,39.632,39.632,0,0,0,9.984,1,31.237,31.237,0,0,0,11.241-2.418,1.5,1.5,0,0,1,1.173,2.761A34.237,34.237,0,0,1,7.143,25.552Q6.549,25.57,5.949,25.57Z" transform="translate(115.004 4.917) rotate(-8)" fill="#fc4041"/>
              <path id="atu" d="M3.315-4.836a5.2,5.2,0,0,1-.507,1.189,1.146,1.146,0,0,1-.663.6,1.056,1.056,0,0,1-1.131-.234A1.316,1.316,0,0,1,.7-4.368,38.323,38.323,0,0,1,1.716-9.3q.7-2.594,1.638-5.187T5.4-19.52a48.123,48.123,0,0,1,2.281-4.427.75.75,0,0,1,.449-.37.74.74,0,0,1,.448.019,2.016,2.016,0,0,1,.468-.273,1.376,1.376,0,0,1,.546-.117.927.927,0,0,1,.253.039.64.64,0,0,1,.292.234,4.759,4.759,0,0,1,.371.565,11.948,11.948,0,0,1,.526,1.073q.546,1.989,1.267,4.095t1.5,4.212a1.8,1.8,0,0,1,.214-.059,1.8,1.8,0,0,0,.215-.059,4.24,4.24,0,0,1,.975.039.876.876,0,0,1,.741.546,1,1,0,0,1-.078,1.014,3.262,3.262,0,0,1-1.131.858q.507,1.248,1.014,2.438t1.053,2.32q.039.195.117.6a5.863,5.863,0,0,1,.1.819,2.87,2.87,0,0,1-.059.76.637.637,0,0,1-.312.468.626.626,0,0,1-.566-.039,2.705,2.705,0,0,1-.565-.409,3.857,3.857,0,0,1-.488-.546A3.751,3.751,0,0,1,14.7-6.24q-.663-1.287-1.267-2.594t-1.151-2.632q-1.638.312-3.568.546t-3.8.312Q4.485-9.126,4.076-7.7T3.315-4.836Zm5.538-16.38a85.179,85.179,0,0,0-3.12,8.034,34.148,34.148,0,0,0,5.577-.663A72.03,72.03,0,0,1,8.853-21.216Zm22.815.819a29.094,29.094,0,0,0-7.722.624,50.46,50.46,0,0,0-7.332,2.223,1.344,1.344,0,0,1-1.424-.078,1.186,1.186,0,0,1-.488-.858,2.449,2.449,0,0,1,.975-1.209,27.883,27.883,0,0,1,15.99-2.886,1.12,1.12,0,0,1,.644.566,1.061,1.061,0,0,1,.175.76,1.959,1.959,0,0,1-.234.643A.566.566,0,0,1,31.668-20.4ZM26.13-6.786a1.116,1.116,0,0,1-.292.76,1.232,1.232,0,0,1-.722.41q-.78.117-1.014-.273a2.018,2.018,0,0,1-.273-.9q-.039-2.73-.1-5.44t-.253-5.441a2.114,2.114,0,0,0-.039-.371,1.19,1.19,0,0,1,0-.429.757.757,0,0,1,.176-.37.859.859,0,0,1,.448-.234,1.309,1.309,0,0,1,1.287.292,1.356,1.356,0,0,1,.39.878q.312,2.808.39,5.577T26.13-6.786ZM44.226-19.5q.156.7.312,1.657a19.012,19.012,0,0,1,.215,1.989q.058,1.034.02,2.126a13.735,13.735,0,0,1-.234,2.106A5.466,5.466,0,0,1,43.6-9.477a8.424,8.424,0,0,1-1.716,1.755,8.764,8.764,0,0,1-2.165,1.267,11.778,11.778,0,0,1-2.379.7A7.885,7.885,0,0,1,35-5.674a5.412,5.412,0,0,1-2.048-.643,4.845,4.845,0,0,1-1.638-1.521,3.663,3.663,0,0,1-.546-2.3q.078-1.326.234-2.437a20.525,20.525,0,0,1,.41-2.126q.254-1.014.566-2.047t.663-2.165a.855.855,0,0,1,.7-.585,1.4,1.4,0,0,1,.468,0,.7.7,0,0,1,.332.137,1.793,1.793,0,0,1,.41.37,2.264,2.264,0,0,1,.332.546,1,1,0,0,1,.019.7q-.351,1.248-.7,2.535t-.6,2.457a14.281,14.281,0,0,0-.312,2.086,3.015,3.015,0,0,0,.176,1.424,2.278,2.278,0,0,0,1.384.955,4.644,4.644,0,0,0,1.853.059,8.7,8.7,0,0,0,1.891-.526,9.392,9.392,0,0,0,1.58-.8,4.233,4.233,0,0,0,1.541-1.755,6.987,6.987,0,0,0,.6-2.3,13.539,13.539,0,0,0-.02-2.613q-.136-1.365-.371-2.691a2.159,2.159,0,0,1,.039-.9,1.3,1.3,0,0,1,.624-.858.791.791,0,0,1,.994.078A2.173,2.173,0,0,1,44.226-19.5Z" transform="translate(97 27)" fill="#fff"/>
              <path id="dot" d="M2.5,0C3.881,0,4.67,1.322,4.67,2.7s-1.013,1.99-2.393,1.99A2.072,2.072,0,0,1,0,2.5,2.5,2.5,0,0,1,2.5,0Z" transform="translate(140.835 18)" fill="#fc4041"/>
          </g>
      </svg>
      </a> 
    <div class="absolute -right-2 top-4">
      {{ with .Params.tags }}
        {{ range . }}
        <div class="mb-2 text-right">
          <a href="{{ "/tags/" | absURL }}{{ . | urlize }}" class="inline-block mb-2 bg-accent p-1 text-sm text-white relative before:absolute before:bottom-[-8px] before:border-t-[8px] before:right-0 before:w-0 before:h-0 before:border-t-[#740000] before:border-solid before:border-r-[8px] before:border-r-[transparent]"># {{ . }}</a>
        </div>
        {{ end }}
      {{ end }}
    </div>
    <div class="text-white text-center bottom-0 absolute pb-9 w-full bg-gradient-to-t from-blackGradient">

        {{ with .Params.categories }}
            {{ range . }}
                <a href="{{ "/categories/" | absURL }}{{ . | urlize }}" class="py-1 px-4 rounded-full border-solid border-white border hover:border-none hover:bg-accent hover:px-6 duration-300 ease-in bg-black bg-opacity-20">{{- . -}}</a>
            {{ end }}
        {{ end }}

        <h1 class="md:text-4xl text-3xl font-bold mb-6 mt-8">{{ .Title }}</h1>
        <div class="flex flex-row space-x-2 justify-center">
            <span>{{ .Date.Format "2006-01-02" }}</span>
            <span class="text-gray-400">/</span>
            <span>
              {{ if lt 1 .WordCount }}
                约{{ .WordCount }}字
              {{ else }}
                  {{ .WordCount }} word
              {{ end }}
            </span>
            <span class="text-gray-400">/</span>
            <span>需时{{ .ReadingTime }}分钟</span>
        </div>
    </div>
  </div>
  <div class="content prose dark:prose-dark mx-auto max-w-[90%] mt-10">
      {{ .Content }}
  </div>
  <div class="max-w-[90%] mx-auto mt-8">
    <hr class="dark:border-darkDivider mb-2">
    <p class="dark:text-darkSecondry italic">最后编辑于：{{.Page.Lastmod.Format "2006-01-02 15:04"}}</p>
    {{ partial "postpagination.html" . }}
    {{ partial "backtop.html" . }}
  </div>
  {{ if .Site.Params.enableComment }}
    {{ partial "comment.html" . }}
  {{ end }}
</div>
{{ partial "toc.html" . }}
{{ end }}

